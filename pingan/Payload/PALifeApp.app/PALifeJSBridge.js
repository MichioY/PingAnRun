var PALifeJSBridge=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),o=n(3),i=n(9),a=a||window;if(a.PALifeJSBridge)(0,r.warn)("PALifeJSBridge already defined!!");else{a.PALifeJSBridge=new i.HyBridge;var c=document.createEvent("Events");c.initEvent(o.BRIDGE_LOAD_FINISH_EVENT),c.data=a.PALifeJSBridge,document.dispatchEvent(c)}e.exports=a.PALifeJSBridge},function(e,t,n){"use strict";function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function o(){return Math.floor(2e9*Math.random())}function i(){var e=e||window;return e[w.DEBUG_FLAG_NAME]===!0?!0:!1}function a(){if(i()){var e;if(Array.prototype.unshift.call(arguments,"Bridge log:"),(e=console).log.apply(e,arguments),console.trace)console.trace();else{var t=(new Error).stack;console.log("console.trace",t)}}}function c(){var e;Array.prototype.unshift.call(arguments,"Bridge warn:"),(e=console).warn.apply(e,arguments)}function u(e){var t;Array.prototype.unshift.call(arguments,"Bridge error:"),(t=console).error.apply(t,arguments)}function s(e){try{var t=JSON.parse(e);return t}catch(n){throw u("parse messageString error!",n),n}}function l(e,t){for(var n in t)e[n]=t[n];return e}function f(){throw new g.HyBridgeError("Here should be Finished!!!")}function p(){throw new g.HyBridgeError("This must be implemented by child class !!!")}function v(e){var t="undefined"==typeof e?"undefined":r(e);return"object"===t&&!!e}function d(e){return"[object Array]"===Object.prototype.toString.call(e)}function y(){var e=window.navigator.userAgent;return!!e.match(/Android/i)}function h(){var e=window.navigator.userAgent;return!!(e.match(/iPad/i)||e.match(/iPhone/i)||e.match(/iPod/i))}function b(e,t){if(("undefined"==typeof e?"undefined":r(e))+("undefined"==typeof t?"undefined":r(t))!="stringstring")return!1;for(var n=e.split("."),o=t.split("."),i=0,a=Math.max(n.length,o.length);a>i;i++){if(n[i]&&!o[i]&&parseInt(n[i])>0||parseInt(n[i])>parseInt(o[i]))return 1;if(o[i]&&!n[i]&&parseInt(o[i])>0||parseInt(n[i])<parseInt(o[i]))return-1}return 0}function m(){var e=window.navigator.userAgent,t=new RegExp("Android ([\\w._\\+]+)","i"),n=t.exec(e);if(null!==n&&n.length>1){var r=n[1];if(1===b(w.LEGACY_ANDROID_VERSION,r))return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.initCallbackId=o,t.isDebug=i,t.log=a,t.warn=c,t.error=u,t.parse=s,t.extend=l,t.todo=f,t.mustImplement=p,t.isObject=v,t.isArray=d,t.isAndroid=y,t.isiOS=h,t.isLegacyAndroid=m;var g=n(2),w=n(3)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});t.HyBridgeError=function(e){function t(e){return n(this,t),r(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),t}(Error)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VERSION="0.0.2",t.SEND_MESSAGE_TO_NATIVE_PROTOCOL="pljs://request?",t.SEND_CALLBACK_MESSAGE_TO_NATIVE_PROTOCOL="pljs://response?",t.DEBUG_FLAG_NAME="_PALifeBridge_debug",t.BRIDGE_LOAD_FINISH_EVENT="_bridgeLoadFinishEvent",t.DEFAULT_JS_ACTION_TIMEOUT=8e3,t.DEFAULT_NATIVE_ACTION_TIMEOUT=8e3,t.LEGACY_ANDROID_VERSION="4.2",t.CONNECTOR_FREQUENCY=100},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Connector=void 0;var i=n(3),a=n(1);t.Connector=function(){function e(){var t=this;r(this,e),this.lastExecTime=(new Date).getTime();var n=function(){t.lastExecTime=(new Date).getTime()};window.addEventListener("hashchange",n,!1),window.addEventListener("popstate",n,!1)}return o(e,[{key:"requestNative",value:function(e){var t=this,n=i.SEND_MESSAGE_TO_NATIVE_PROTOCOL+encodeURIComponent(JSON.stringify(e));(0,a.log)("connector --> request Native: ",decodeURIComponent(n)),(0,a.log)("connector --> request Native origin: ",n),this.exec(function(){t.realRequest(n)})}},{key:"responseNative",value:function(e){var t=this,n=i.SEND_CALLBACK_MESSAGE_TO_NATIVE_PROTOCOL+encodeURIComponent(JSON.stringify(e));(0,a.log)("connector --> response Native: ",decodeURIComponent(n)),(0,a.log)("connector --> response Native origin: ",n),this.exec(function(){t.realResponse(n)})}},{key:"realRequest",value:function(e){(0,a.mustImplement)()}},{key:"realResponse",value:function(e){(0,a.mustImplement)()}},{key:"exec",value:function(e){var t=this,n=(new Date).getTime(),r=function(){e.call(null),(0,a.log)("send Message Timestamp: ",(new Date).getTime()),t.lastExecTime=(new Date).getTime()};n-this.lastExecTime>i.CONNECTOR_FREQUENCY?r():setTimeout(function(){t.exec(e)},i.CONNECTOR_FREQUENCY)}}]),e}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ERR_TIMEOUT={errcode:"408",errmsg:"timeout"},t.ERR_SERVICE_ERROR={errcode:"500",errmsg:"service error"},t.ERR_NO_ACTION={errcode:"404",errmsg:"No Action"},t.SUCCESS={errcode:"200",errmsg:"success"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Runner=void 0;var i=n(1),a=n(2),c=n(5);t.Runner=function(){function e(t,n,o,i,a,c,u){r(this,e),this.nameSpace=u,this.serviceName=a,this.actionName=c,this.actionString="["+a+":"+c+"]",this.hyBridge=i,this.param=t,this.handler=n,o?this.timeout=o.timeout||0:this.timeout=0,this.invokeCallbackTimes=0,this.timer=null,this.initResponseCB()}return o(e,[{key:"run",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.timeout||this.timeout;if("function"!=typeof e)throw new a.HyBridgeError("service"+this.actionString+"--->runner.run() callback must be a function!");this.callback=e;try{this.timer=setTimeout(function(){if(r&&t.invokeCallbackTimes<1){(0,i.error)("service"+t.actionString+"--->timeout!!");var e={errcode:c.ERR_TIMEOUT.errcode,errmsg:"service"+t.actionString+" timeout!"};t.response(e)}},r),this.handler.call(this.nameSpace,this.param,this.responseCB)}catch(o){(0,i.error)("service"+this.actionString+"--->handler function occur an error!",o);var u={errcode:c.ERR_SERVICE_ERROR.errcode,errmsg:"service"+this.actionString+c.ERR_SERVICE_ERROR.errmsg};this.response(u)}}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){clearTimeout(this.timer),this.timer=null})},{key:"response",value:function(e){this.invokeCallbackTimes++,this.callback.call(null,e)}},{key:"initResponseCB",value:function(){(0,i.mustImplement)()}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Service=void 0;var i=n(1);t.Service=function(){function e(t,n){r(this,e),this.hyBridge=t,this.name=n.service;var o=n.actions;this.actions={},o=(0,i.isArray)(o)?o:[],this.addActions(o)}return o(e,[{key:"generateRunner",value:function(e,t){(0,i.mustImplement)()}},{key:"addActions",value:function(e){(0,i.mustImplement)()}},{key:"getActionScope",value:function(e){return this.actions[e]?this.actions[e].nameSpace:void 0}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HyBridgeConnectError=void 0;var a=n(2);t.HyBridgeConnectError=function(e){function t(e,n){r(this,t);var i=o(this,Object.getPrototypeOf(t).call(this,e));return i.errcode=n,i}return i(t,e),t}(a.HyBridgeError)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.HyBridge=void 0;var i=n(1),a=n(2),c=n(13),u=n(10),s=n(12),l=n(11),f=n(17),p=n(18),v=n(3),d=n(5),y=n(8);t.HyBridge=function(){function e(){r(this,e);var t;this.connector=function(){return(0,i.isiOS)()?(t="iOSConnector",new c.iOSConnector):(0,i.isLegacyAndroid)()?(t="legacyAndroidConnector",new s.LegacyAndroidConnector):(0,i.isAndroid)()?(t="androidConnector",new u.AndroidConnector):(t="commonConnector",new l.CommonConnector)}(),(0,i.log)("initialize HyBridge, version: "+v.VERSION,"connector: "+t),this.callbackId=(0,i.initCallbackId)(),this.nativeCallbacks={},this.nativeServiceList={},this.jsServiceList={}}return o(e,[{key:"registerJsService",value:function(e){var t=this;e.forEach(function(e){if(t.jsServiceList[e.service]){var n=t.jsServiceList[e.service];n.addActions(e.actions)}else t.jsServiceList[e.service]=new f.JsService(t,e)})}},{key:"registerNativeService",value:function(e){var t=this;e.forEach(function(e){var n=t.nativeServiceList[e.service];n?n.addActions(e.actions):t.nativeServiceList[e.service]=new p.NativeService(t,e)})}},{key:"generateCallBackId",value:function(){return this.callbackId++ +""}},{key:"sendMessageToNative",value:function(e,t,n,r,o,c){if(i.log.apply(void 0,["sendMessageToNative: "].concat(Array.prototype.slice.call(arguments))),r&&"function"!=typeof r&&(0,i.error)("callbackFun must be a function !!"),o&&"function"!=typeof o&&(0,i.error)("callbackFun must be a function !!"),!this.nativeServiceList[e])throw new a.HyBridgeError("can not find nativeService with name: "+e);var u=this.nativeServiceList[e],s=u.generateRunner(t,n),l=function(){return function(e){e.errcode===d.SUCCESS.errcode?r(e.data):o(new y.HyBridgeConnectError(e.errmsg,e.errcode))}}();s.run(l,c)}},{key:"handleCallbackMessageFromNative",value:function(e){(0,i.log)("handleCallbackMessageFromNative: ",e);var t=(0,i.parse)(e),n=t.callbackId,r=this.nativeCallbacks;if(r[n]){var o=r[n];try{var c={errcode:t.errcode,errmsg:t.errmsg,data:t.data};o.call(null,c),delete r[n]}catch(u){throw i.error.apply(void 0,["excute callback error: "].concat(Array.prototype.slice.call(arguments),[u])),new a.HyBridgeError("excute callback error")}}else(0,i.error)("can not find callbackId: ",n)}},{key:"handleMessageFromNative",value:function(e){var t=this;(0,i.log)("handleMessageFromNative: ",e);var n=(0,i.parse)(e),r=n.service,o=n.action,c=n.param,u=n.callbackId;if(!this.jsServiceList[r])throw new a.HyBridgeError("can not find jsService with name: "+r);var s=this.jsServiceList[r],l=s.generateRunner(o,c);l.run(function(e){e.callbackId=u,t.connector.responseNative(e)})}},{key:"getJsServiceJSON",value:function(){var e=[];for(var t in this.jsServiceList){var n={service:t,actions:[]},r=this.jsServiceList[t];for(var o in r.actions)n.actions.push(o);e.push(n)}return e}},{key:"getNativeServiceJSON",value:function(){var e=[];for(var t in this.nativeServiceList){var n={service:t,actions:[]},r=this.nativeServiceList[t];for(var o in r.actions)n.actions.push(o);e.push(n)}return e}},{key:"getActionScope",value:function(e,t){for(var n in this.jsServiceList)if(e===n){var r=this.jsServiceList[e];if(r.getActionScope(t))return r.getActionScope(t)}}},{key:"version",get:function(){return v.VERSION}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AndroidConnector=void 0;var c=n(4);t.AndroidConnector=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"realRequest",value:function(e){window.androidJsBridgeKit.requestNative(e)}},{key:"realResponse",value:function(e){window.androidJsBridgeKit.responseNative(e)}}]),t}(c.Connector)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CommonConnector=void 0;var c,u=n(4);t.CommonConnector=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"realRequest",value:function(e){this.location(e)}},{key:"realResponse",value:function(e){this.location(e)}},{key:"location",value:function(e){var t=function(e){return function(){c&&c.contentWindow?c.contentWindow.location=e:(c=document.createElement("iframe"),c.style.display="none",c.src=e,document.body.appendChild(c))}}(e);return window.document.body?void t():void setTimeout(t,10)}}]),t}(u.Connector)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.LegacyAndroidConnector=void 0;var c=n(4);t.LegacyAndroidConnector=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"realRequest",value:function(e){window.prompt("",e)}},{key:"realResponse",value:function(e){window.prompt("",e)}}]),t}(c.Connector)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.iOSConnector=void 0;var c,u=n(4);t.iOSConnector=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).call(this))}return i(t,e),a(t,[{key:"realRequest",value:function(e){this.location(e)}},{key:"realResponse",value:function(e){this.location(e)}},{key:"location",value:function(e){var t=function(e){return function(){c&&c.contentWindow?c.contentWindow.location=e:(c=document.createElement("iframe"),c.style.display="none",c.src=e,document.body.appendChild(c))}}(e);return window.document.body?void t():void setTimeout(t,10)}}]),t}(u.Connector)},function(e,t){"use strict";function n(e,t,n){return function(r,o){var i=n.generateCallBackId(),a=n.nativeCallbacks;a[i]=function(e){o(e)};var c={service:e.name,action:t.name,param:r,callbackId:i};n.connector.requestNative(c)}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNativeHandler=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.JsRunner=void 0;var c=n(1),u=n(5),s=n(6);t.JsRunner=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"initResponseCB",value:function(){var e=this;this.responseCB=function(t){if(e.clearTimeout(),e.invokeCallbackTimes++,e.invokeCallbackTimes>1)(0,c.warn)("invoke callback multitimes","times:"+e.invokeCallbackTimes,"sucess:",t);else{var n={errcode:u.SUCCESS.errcode,errmsg:u.SUCCESS.errmsg,data:t};e.response(n)}}}}]),t}(s.Runner)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NativeRunner=void 0;var c=n(1),u=n(6);t.NativeRunner=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"initResponseCB",value:function(){var e=this;this.responseCB=function(t){e.clearTimeout(),e.invokeCallbackTimes++,e.invokeCallbackTimes>1?(0,c.warn)("invoke callback multitimes","times:"+e.invokeCallbackTimes,"sucess:",t):e.response(t)}}}]),t}(u.Runner)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.JsService=void 0;var c=n(7),u=n(3),s=n(15),l=n(2),f=n(1);t.JsService=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"addActions",value:function(e){var t=this;e.forEach(function(e){if(t.actions[e.name])throw new l.HyBridgeError("duplicate action name, service:"+t.name+",action:"+e.name);e.options?e.options.timeout=e.options.timeout||u.DEFAULT_JS_ACTION_TIMEOUT:e.options={timeout:u.DEFAULT_JS_ACTION_TIMEOUT},t.actions[e.name]={handler:e.handler,options:e.options,nameSpace:{}}})}},{key:"generateRunner",value:function(e,t){if(this.actions[e]){var n=this.actions[e];return new s.JsRunner(t,n.handler,n.options,this.hyBridge,this.name,e,n.nameSpace)}(0,f.error)("no action with name: "+e+" in Service: "+this.name)}}]),t}(c.Service)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NativeService=void 0;var c=n(7),u=n(14),s=n(3),l=n(16),f=n(2),p=n(1);t.NativeService=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"addActions",value:function(e){var t=this;e.forEach(function(e){if(t.actions[e.name])throw new f.HyBridgeError("duplicate action name, service:"+t.name+",action:"+e.name);var n=(0,u.createNativeHandler)(t,e,t.hyBridge);e.options?e.options.timeout=e.options.timeout||s.DEFAULT_NATIVE_ACTION_TIMEOUT:e.options={timeout:s.DEFAULT_NATIVE_ACTION_TIMEOUT},t.actions[e.name]={handler:n,options:e.options,nameSpace:{}}})}},{key:"generateRunner",value:function(e,t){if(this.actions[e]){var n=this.actions[e];return new l.NativeRunner(t,n.handler,n.options,this.hyBridge,this.name,e,n.nameSpace)}(0,p.error)("no action with name: "+e+" in Service: "+this.name)}}]),t}(c.Service)}]);